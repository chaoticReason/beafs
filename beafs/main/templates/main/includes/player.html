{% load static %}

<section>
  <div id="playlist-box">
    {% for song in music%}
    <section class="pl-composition comp-{{forloop.counter0}}">
      <div class="fl">
        <div><button class="pl-play"><img class="pl-play-img" src="{% static '/player/icons/play.svg' %}" />
          </button></div>
        <div class="pl-meta">
          <span class="pl-title">{{song.title}}</span>
          <br />
          <span class="pl-artist">{{song.artist}}</span>
        </div>
      </div>
      <div class="fl">
        <div><button class="pl-like"><img class="pl-like-img" src="{% static '/player/icons/heart-white.svg' %}" />
          </button></div>
        <div class="pl-timebox pl-time">00:00</div>
      </div>
    </section>
    {% endfor %}
  </div>
  <div id="player">
    <div class="fl">
      <div><button id="prev"><img id="prev-img" src="{% static '/player/icons/prev.svg' %}"></button></div>
      <div><button id="play"><img id="play-img" src="{% static '/player/icons/play-white.svg' %}"></button></div>
      <div><button id="next"><img id="next-img" src="{% static '/player/icons/next.svg' %}"></button></div>
      <div><button id="repeat"><img id="repeat-img" src="{% static '/player/icons/forward.svg' %}"></button></div>
      <div id="timeline">
        <div class="timebox" id="time-passed">00:00</div>
        <div id="progress">
          <div id="progress-passed"></div>
          <input type="range" min="1" max="3600" value="1" id="progress-bar">
        </div>
        <div class="timebox" id="time-remained">00:00</div>
      </div>
    </div>
    <div id="right-buttons">
      <div id="song-meta">
        <span id="song-title">cold pizza</span>
        <br />
        <span id="artist">naked sculpture</span>
      </div>
      <div class="fl">
        <div><button id="like"><img id="like-img" src="{% static '/player/icons/heart-white.svg' %}"></button></div>
        <div><button id="playlist-btn"><img id="playlist-btn-img" src="{% static '/player/icons/playlist.svg' %}"></button></div>
      </div>
    </div>
  </div>
</section>
<script src="{% static '/player/jquery-1.10.2.min.js' %}"></script>
<script defer type="text/javascript">
  const SRC_PLAY_WHITE_IMG = "{% static '/player/icons/play-white.svg' %}";
  const SRC_PAUSE_WHITE_IMG = "{% static '/player/icons/pause-white.svg' %}";
  const SRC_REPEAT_IMG = "{% static '/player/icons/repeat.svg' %}";
  const SRC_REPEAT_WHITE_IMG = "{% static '/player/icons/forward.svg' %}";
  const SRC_HEART_IMG = "{% static '/player/icons/heart.svg' %}";
  const SRC_HEART_WHITE_IMG = "{% static '/player/icons/heart-white.svg' %}";
  const SRC_PL_IMG = "{% static '/player/icons/playlist.svg' %}";
  const SRC_PL_WHITE_IMG = "{% static '/player/icons/close.svg' %}";

  /*//////////////// a u d i o s ///////////////////*/
  var audios = [
    {%for song in music%}
      {
        id: {{song.pk}},
        title: "{{song.title}}",
        artist: "{{song.artist}}",
        cover: "{{song.cover.url}}",
        like: false,
        file: "{{song.audio.url}}",
      },
    {% endfor %}
  ];
</script>
<script defer type="text/javascript" src="{% static '/player/splice5.js' %}"></script>
